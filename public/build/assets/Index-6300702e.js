import{d as V,q as y,T as D,j as H,o as s,g as i,a as e,u as w,w as l,F as m,Z as j,b as o,t as f,e as r,k as h,c,n as A}from"./app-d47b57c5.js";import{_ as N}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-f9f02b0e.js";import{T as M,a as S,b as g,c as n,d as E}from"./TableBody-d325d520.js";import{_ as F}from"./TextInput.vue_vue_type_script_setup_true_lang-045f4316.js";import{_ as x}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-862cfd90.js";import{_ as C}from"./SecondaryButton.vue_vue_type_script_setup_true_lang-763082ad.js";import{D as b}from"./DangerButton-e7bcbef8.js";import{_ as z}from"./Pagination.vue_vue_type_script_setup_true_lang-82f7a51f.js";import{_ as q,C as I,a as O}from"./Breadcrumb.vue_vue_type_script_setup_true_lang-34d729bc.js";import{C as U}from"./CardHeader-d4e92317.js";import{E as Z}from"./Empty-c814a9d8.js";import{_ as G}from"./Modal.vue_vue_type_script_setup_true_lang-39f8a193.js";import"./ApplicationLogo-05667216.js";import"./_plugin-vue_export-helper-c27b6911.js";const J={class:"text-xl font-semibold leading-tight text-gray-800"},K={class:"flex items-center justify-between"},P=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Q=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),W={class:"p-6"},X=o("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this row? ",-1),Y=o("p",{class:"mt-1 text-sm text-gray-600"}," Once the row is deleted, all of its resources and data will be permanently deleted. ",-1),ee={class:"flex justify-end mt-6"},_e=V({__name:"Index",props:{module:{},attributes:{},rows:{}},setup(B){const T=B,v=y(""),p=D({}),d=y(null),_=()=>{d.value=null},$=H(()=>!!d.value),L=()=>{d.value&&p.delete(route("crud.modules.destroy",[T.module.id,d.value.primary]),{preserveScroll:!0,onSuccess:()=>_()})};return(t,k)=>(s(),i(m,null,[e(w(j),{title:t.module.name},null,8,["title"]),e(N,null,{default:l(()=>[o("h1",J,f(t.module.name),1),e(q,{links:[{name:"Home",href:t.route("dashboard")},{name:t.module.name,href:t.route("crud.modules.index",t.module.id)}],class:"mt-2"},null,8,["links"]),e(I,{class:"mt-6 lg:mt-8"},{default:l(()=>[e(U,null,{default:l(()=>[o("div",K,[o("div",null,[e(F,{modelValue:v.value,"onUpdate:modelValue":k[0]||(k[0]=a=>v.value=a),placeholder:"Search rows"},null,8,["modelValue"])]),o("div",null,[e(x,{href:t.route("crud.modules.create",t.module.id)},{default:l(()=>[r(" Add New Row ")]),_:1},8,["href"])])])]),_:1}),e(O,null,{default:l(()=>[e(M,null,{default:l(()=>[e(S,null,{default:l(()=>[e(g,null,{default:l(()=>[e(n,null,{default:l(()=>[r(" No. ")]),_:1}),(s(!0),i(m,null,h(t.attributes.filter(a=>a.type!=="primary"),a=>(s(),c(n,null,{default:l(()=>[r(f(a.name),1)]),_:2},1024))),256))]),_:1})]),_:1}),e(E,null,{default:l(()=>[t.rows.data.length===0?(s(),c(g,{key:0},{default:l(()=>[e(n,{colspan:"100%"},{default:l(()=>[e(Z)]),_:1})]),_:1})):(s(!0),i(m,{key:1},h(t.rows.data,(a,R)=>(s(),c(g,null,{default:l(()=>[e(n,null,{default:l(()=>[r(f(t.rows.from+R),1)]),_:2},1024),(s(!0),i(m,null,h(t.attributes.filter(u=>u.type!=="primary"),u=>(s(),c(n,null,{default:l(()=>[r(f(a[u.id]),1)]),_:2},1024))),256)),e(n,{class:"text-right"},{default:l(()=>[e(C,{href:t.route("crud.modules.edit",{module:t.module.id,row:a.primary})},{default:l(()=>[P]),_:2},1032,["href"]),e(b,{class:"ml-4",onClick:u=>d.value=a},{default:l(()=>[Q]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),e(z,{from:t.rows.from,to:t.rows.to,total:t.rows.total,links:t.rows.links,class:"mt-6"},null,8,["from","to","total","links"])]),_:1})]),_:1}),e(G,{show:$.value,"max-width":"md",onClose:_},{default:l(()=>[o("div",W,[X,Y,o("div",ee,[e(C,{onClick:_},{default:l(()=>[r(" Cancel ")]),_:1}),e(b,{disabled:w(p).processing,class:A([{"opacity-25":w(p).processing},"ml-3"]),onClick:L},{default:l(()=>[r(" Delete Row ")]),_:1},8,["disabled","class"])])])]),_:1},8,["show"])]),_:1})],64))}});export{_e as default};
